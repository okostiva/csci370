// b8ec77afb290e968adbdde55423e2a0eb48ec09f
window.LS_ENV="production",function(){var e=window.escape,t=window.navigator,n=window.console,r="getElementById",i="getElementsByTagName",s="createElement",o="createTextNode",u="appendChild",a="insertBefore",f="removeChild",l="getAttribute",c="setAttribute",h=[].slice,p=document[i]("head")[0],d={decodeQueryString:function(e){var t=e.substr(1);if(!t)return{};var n=t.split("&"),r={},i;for(var s=0;s<n.length;s++)i=n[s].split("="),r[decodeURIComponent(i[0])]=decodeURIComponent(i[1]);return r},encodeQueryString:function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return"?"+t.join("&")},genUUIDv4:function x(e){return e?(e^Math.random()*16>>e/4).toString(16):([1e7]+ -1e3+ -4e3+ -8e3+ -1e11).replace(/[018]/g,x)},obj:{clone:function(e){(e===null||e===undefined)&&w("obj is undefined!");var t=function(){};t.prototype=e;var n=new t;return n._original=e,n},copy:function(e){(e===null||e===undefined)&&w("obj is undefined!");var t={};for(var n in e)t[n]=e[n];return t},extend:function(){var e=h.call(arguments),t=e.shift(),n,r;for(var i=0;i<e.length;i++){n=e[i];for(r in n)t[r]=n[r]}return t}},is:{blank:function(e){return e===""||e===null||e===undefined},present:function(e){return!d.is.blank(e)}},elem:{addEventListener:function(e,t,n){document.addEventListener?e.addEventListener(t,n):e.attachEvent("on"+t,n)},removeEventListener:function(e,t,n){document.removeEventListener?e.removeEventListener(t,n):e.detachEvent("on"+t,n)}},evt:{preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}},script:{load:function(e,t){var n=document[s]("script"),r;n.onload=n.onerror=n.onreadystatechange=function(){if(n.readyState&&!/^c|loade/.test(n.readyState)||r)return;n.onload=n.onreadystatechange=null,r=!0,t()},n.async=!0,n.src=e,p[a](n,p.firstChild)}}},v=d.decodeQueryString(window.location.search),m=v.ls_debug?"development":window.LS_ENV||"development",g=window._mb_site_guid,y=/^(?:(?:10|127|192)\.|localhost)/.test(location.host),b=/^localhost/.test(location.host)||v.ls_localhost;RegExp.quote=function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")};var w=function(e){throw new Error(e)},E=function(e){try{e.apply(e,arguments)}catch(t){}},S=function(n){function T(e){return function(t){var n=!1;typeof t=="object"&&(n=t),n&&e(n)}}function N(){return y?location.host:b?"localhost":"ms.erovinmo.com"}function C(){var e;return y?e=location.host:b?e="localhost":e="mis.erovinmo.com",document.location.protocol+"//"+e+"/"}function k(e,t,n){n=n||"post";var o=document[r]("ls_redirect_form");if(!o){o=document[s]("form"),o[c]("id","ls_redirect_form"),o[c]("target","mandelbrot_iframe_statefull"),o[c]("method",n),o[c]("action",e);for(var a in t){var f=document[s]("input");f[c]("type","hidden"),f[c]("name",a),f[c]("value",t[a]),o[u](f)}}var l=document[r]("mandelbrot_iframe_statefull"),h;l.contentDocument?h=l.contentDocument[i]("body")[0]:l.contentWindow&&(h=l.contentWindow.document[i]("body")[0]),h[u](o),o.submit()}function L(e,t){var n=new Date;n.setFullYear(parseInt(n.getFullYear(),10)+5,0,1),document.cookie=e+"="+t+"; expires="+n.toUTCString()+"; path=/"}function A(e){if(document.cookie.length>0){var t=document.cookie.indexOf(e+"="),n,r;if(t!==-1){t=t+e.length+1;var i=[],s=document.cookie.indexOf(";",t);return s>0&&i.push(s),s=document.cookie.indexOf("|",t),s>0&&i.push(s),i.length?r=Math.min.apply(null,i):r=document.cookie.length,n=document.cookie.substring(t,r),n}}return""}function O(){var e=A("_lsd0");return e.length||(e=d.genUUIDv4(),L("_lsd0",e)),e}function M(e){var t="",n;for(n in e)t+=n+"="+e[n]+"&";return t+="client_timestamp="+_()/1e3,t}function _(){var e=new Date;return""+e.getTime()}var h="",p=!1,v="",m=null,w=0,x=!1,D=new function(){this.process=function(e,t,n,r,i){this.core=e,this.impressionId=t,this.keywordSequenceId=n,this.site=r||{},this.keywords=this.selectEligibleKeywords(i),this.blockKeywordInstanceCount={},this.groupKeywordsByBlock(),this.processBlocks()},this.incrementBlockKeywordInstanceCount=function(e){var t=this.blockKeywordInstanceCount;t.hasOwnProperty(e.xpath)||(t[e.xpath]={});var n=t[e.xpath];return n.hasOwnProperty(e.name)||(n[e.name]=0),n[e.name]+=1},this.getBlockKeywordInstanceCount=function(e){var t=this.blockKeywordInstanceCount;return t.hasOwnProperty(e.xpath)?t[e.xpath][e.name]||0:0},this.selectEligibleKeywords=function(e){var t=[],n,r;for(var i=0;i<e.length;i++)n=e[i],r=n.sequence_code==1&&n.destination_uri&&this.normalizeUrl(n.destination_uri)!=this.normalizeUrl(window.location.href)&&n.keyword_type!="alchemy",r&&(n.regex=new RegExp("(^|[\\s\\(\\[\\{<\"`'])("+RegExp.quote(n.name)+")"+"(?:[\\s\\.,?!:;\\)\\]\\}>\"`]|'(?!s|re|ve|d|m|t)|$)","gim"),t.push(n));return t},this.groupKeywordsByBlock=function(){var e={},t={},n,r,i;for(var s=0;s<this.keywords.length;s++)n=this.keywords[s],n.block=r=n.dom_reference,i=n.xpath,e.hasOwnProperty(i)||(e[i]=[]),e[i].push(n),t[i]=r;this.keywordsByBlock=e,this.blocksByXpath=t},this.processBlocks=function(){for(var e in this.keywordsByBlock)this.processElement(this.keywordsByBlock[e],this.blocksByXpath[e])},this.processElement=function(e,t){var n=t.childNodes,r,i;for(var s=0;s<n.length;)r=n[s],r.nodeType==Node.TEXT_NODE?(i=this.processTextNode(e,t,r),s+=i+1):(r.nodeName!="A"&&this.processElement(e,r),s++)},this.processTextNode=function(e,t,n){var r=n.nodeValue,i=this.collectKeywordMatches(r,e);if(!i.length)return 0;this.sortMatchesByReverseCharacterIndex(i),this.removeIntersectingKeywords(i);var s=this.buildReplacementNodes(r,i);return this.replaceTextNode(t,n,s),s.length-1},this.collectKeywordMatches=function(e,t){var n=[],r,i,s,o,u;for(var a=0;a<t.length;a++){i=t[a],r=this.getBlockKeywordInstanceCount(i);if(r==1)continue;s=i.regex;while(o=s.exec(e)){o.index==s.lastIndex&&s.lastIndex++,u=d.obj.clone(i),u.leadingWhitespace=o[1]||"",u.matchedKeyword=o[2],u.normalizedKeyword=i.name,u.startIndex=o.index+u.leadingWhitespace.length,u.endIndex=u.startIndex+u.matchedKeyword.length-1,u.doesIntersect=function(e){return this.startIndex>=e.startIndex&&this.startIndex<=e.endIndex},n.push(u),r=this.incrementBlockKeywordInstanceCount(i);if(r==1)break}}return n},this.removeIntersectingKeywords=function(e){var t,n;for(var r=e.length,i=r-1;i>=0;i--){if(i==r-1)continue;t=e[i],n=e[i+1],t.doesIntersect(n)&&e.splice(i,1)}},this.sortMatchesByReverseCharacterIndex=function(e){e.sort(function(e,t){return t.startIndex>e.startIndex?1:t.startIndex<e.startIndex?-1:0})},this.buildReplacementNodes=function(e,t){var n=[],r,i,s,u;for(var a=0;a<t.length;a++)r=t[a],i=document[o](e.substring(r.endIndex+1)),s=this.buildLink(r),n.unshift(i),n.unshift(s),e=e.substring(0,r.startIndex),a==t.length-1&&r.startIndex>0&&(u=document[o](e),n.unshift(u));return n},this.replaceTextNode=function(e,t,n){for(var r=0;r<n.length;r++)e[a](n[r],t);e[f](t)},this.buildLink=function(e){var t=this,n="mandelbrot_refrag",r,i,a=document[s]("a");return r=e.destination_uri,e.internal&&(r=this.core.addUrlParam(r,"lc","int_mb_1001")),a[c]("href",r),a[c]("class",n),d.elem.addEventListener(a,"click",function(n){t.onClickLinkWithDestination(a,e,n)}),e.internal||(a[c]("rel","nofollow"),a[c]("target","_blank")),a[u](document[o](e.matchedKeyword)),i=document[s]("span"),i[c]("class",n),i[u](a),i},this.onClickLinkWithDestination=function(e,t,n){var r=this.core.buildKeywordRedirectParams(t,{impression_id:this.impressionId,keyword_sequence_id:this.keywordSequenceId,destination:t.destination_uri});try{this.core.postRedirect(r)}catch(i){}if(!t.internal)return!0;setTimeout(function(){window.location=e[l]("href")},400),d.evt.preventDefault(n)},this.normalizeUrl=function(e){var t=this.site.allowed_query_parameters,n,r,i,s,o;n=document.createElement("a"),n.href=e,r=d.decodeQueryString(n.search),i={};for(var u=0;u<t.length;u++)s=t[u],r.hasOwnProperty(s)&&(i[s]=r[s]);return n.search=d.encodeQueryString(i),n.hash="",e=n.href.replace(/(?:#|\?)+$/,""),e}};return{util:d,injectedKeywordProcessor:D,buildQueryString:function(e){var t,n=[];e.client_timestamp=_()/1e3;for(t in e)e[t]!==null&&e[t]!==undefined&&n.push([encodeURIComponent(t),encodeURIComponent(e[t])].join("="));return n.join("&")},postRedirect:function(e){var t=this.getMandelbrotUrl()+"redirects.js?jsoncallback=JSONPCallback&"+this.buildQueryString(e);this.fetchJSONP(t,function(e){})},fetchJSONP:function(e,t){var n="JSONPCallback_"+w++;window[n]=T(t),e=e.replace("=JSONPCallback","="+n);var r=document[s]("SCRIPT");r.src=e,document[i]("HEAD")[0][u](r)},addUrlParam:function(e,t,n){var r=t+"="+n,i="?"+r,s=e.split("?"),o="?"+(s.length==2?s[1]:"");if(o.length>1){var u=new RegExp("[?&]"+t+"[^&]*"),a=u.exec(o);a?a[0].charAt(0)=="&"?i=o.replace(a,"&"+r):a[0].charAt(0)=="?"&&(i=o.replace(a,"?"+r)):i=o+"&"+r}return s[0]+i},buildKeywordRedirectParams:function(e,t){var n=d.obj.extend({},{site_guid:this.siteGuid,user:O(),target:location.href,keyword_id:e.keyworduuid,keyword:e.name,internal:e.internal,existing:e.existing,is_publisher_campaign:e.is_publisher_campaign,keywords_count:this.totalKeywordCount},t);return d.is.present(e.campaign_id)&&(n.cai=e.campaign_id),d.is.present(e.keyword_group_id)&&(n.kgi=e.keyword_group_id),d.is.present(e.category_id)&&(n.cii=e.category_id),d.is.present(e.dirty_bit)&&(n.dib=e.dirty_bit),n},initPayload:function(e){var t=document[r]("mandelbrot_iframe_statefull");t.src=this.getMandelbrotInstrumentationUrl()+"omni/cdcc_mandelbrot_min_2.html#xpath="+e+"&mandelbrot_url="+this.getMandelbrotInstrumentationUrl()},sendPayload:function(e){var t="uri="+encodeURIComponent(location.href)+"&xpath="+encodeURIComponent(e)+"&site_guid="+encodeURIComponent(this.siteGuid)+"&domain_host="+encodeURIComponent(location.host)+"&mandelbrot_url="+encodeURIComponent(this.getMandelbrotInstrumentationUrl())+"&payload="+encodeURIComponent(h),n=document[r]("mandelbrot_iframe_statefull");n.contentWindow.postMessage(t,this.getMandelbrotInstrumentationUrl())},setSiteGuid:function(e){this.siteGuid=e},setDemoMode:function(e){p=e},setMandelbrotUrl:function(){m="//"+N()+"/"},getMandelbrotUrl:function(){return m},getMandelbrotInstrumentationUrl:function(){return C()},jsonpUrl:function(){var n={referrer:e(document.referrer),href:e(location.href),appCodeName:e(t.appCodeName),appMinorVersion:e(t.appMinorVersion),appName:e(t.appName),appVersion:e(t.appVersion),cpuClass:e(t.cpuClass),platform:e(t.platform),systemLanguage:e(t.systemLanguage),userAgent:e(t.userAgent),userLanguage:e(t.userLanguage),runningLocally:y?1:0},r=O(),i="&user="+r+"&"+M(n);return this.getMandelbrotUrl()+"keywords/instrument.js?jsoncallback=JSONPCallback&rewrite=1"+i+"&target="+encodeURIComponent(location.href)+"&site_guid="+this.siteGuid+"&demo_mode="+(p||location.href.indexOf("mandelbrot_demo_mode=1")>=0)},outerHTML:function(t){return t.outerHTML||function(e){var t=document[s]("div"),n;return t[u](e.cloneNode(!0)),n=t.innerHTML,t=null,n}(t)},concatenateXpaths:function(e){var t=[],n={},r;for(var i=0;i<e.length;i++)r=e[i],n[r.xpath]||(t.push(r.xpath),n[r.xpath]=1);return t.join("|")},findKeywordDomReferences:function(e){var t=this.concatenateXpaths(e),n=[],r,i,s,o,u;try{r=document.evaluate(t,document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);for(o=0,u=r.snapshotLength;o<u;o++)n.push(r.snapshotItem(o))}catch(a){return[]}for(u=e.length,o=u-1;o>=0;o--)i=e[o],s=n[i.element_index],s||e.splice(o,1),i.dom_reference=s},decodeKeywordAttributes:function(e){var t=[],n=["internal","existing","is_publisher_campaign"],r=["block_count","element_index","rank","sequence_code","xpath_index","xpath_position"],i,s,o,u;for(i=0;i<e.length;i++){o=d.obj.copy(e[i]);for(u in o)d.is.blank(o[u])&&delete o[u];for(s=0;s<n.length;s++)u=n[s],o[u]=(o[u]||"").toString().toLowerCase()==="true";for(s=0;s<r.length;s++)u=r[s],u in o&&(o[u]=parseInt(o[u],10));t.push(o)}return t},ensureUniqueSetOfKeywordsPerElement:function(e){var t={},n;for(var r=0;r<e.length;)n=e[r],t[n.xpath]&&t[n.xpath][n.name]?e.splice(r,1):(t[n.xpath]=t[n.xpath]||{},t[n.xpath][n.name]=1,r++)},sortKeywordsByElementIndex:function(e){e.sort(function(e,t){return e.element_index>t.element_index?1:e.element_index<t.element_index?-1:0})},renumberElementIndices:function(e){var t=0,n,r;for(var i=0;i<e.length;i++)n=e[i],r!=null&&n.xpath!=r&&t++,n.element_index=t,r=n.xpath},preprocessKeywords:function(e){var t=this.decodeKeywordAttributes(e);return this.ensureUniqueSetOfKeywordsPerElement(t),this.sortKeywordsByElementIndex(t),this.renumberElementIndices(t),t},processBlacklists:function(e){var t,n,r,i;if(e.xpaths){if(e.blacklists&&e.blacklists.length){i=document.cloneNode(!0);if(i){var s=[];try{var o=i.evaluate(e.blacklists.join("|"),i,null,XPathResult.ANY_TYPE,null),u=o.iterateNext();while(u)s.push(u),u=o.iterateNext();for(n=0;n<s.length;n++)try{s[n].innerHTML=""}catch(a){}}catch(f){}}}else i=document;this.postXpathResultToIframe(e,i)}},postXpathResultToIframe:function(e,t){var n=0,r,i,s;try{for(var o=0;o<e.xpaths.length;o++)i=t.evaluate(e.xpaths[o],t,null,9,null),i.singleNodeValue!==undefined&&i.singleNodeValue&&(n===0||i.singleNodeValue.innerHTML.length<n)&&(r=i.singleNodeValue,n=r.innerHTML.length,s=e.xpaths[o])}catch(u){}r!=null&&(h=r.innerHTML,window.postMessage&&this.initPayload(s))},assignPublisherAnchorEvents:function(e,t){var n=this;this.totalKeywordCount+=t.length,t=this.preprocessKeywords(t),this.findKeywordDomReferences(t),this.impressionId=e.impression_id,this.keywordSequenceId=e.keyword_sequence_id;for(var r=0;r<t.length;r++)(function(){var e=t[r],i=e.dom_reference,s,o;i[c]("data-ls-seen","1"),e.destination_uri_override?(e.internal||(i[c]("rel","nofollow"),i[c]("target","_blank")),i.href=e.destination_uri_override,d.elem.addEventListener(i,"mousedown",function(t){n.trackOverriddenLink(i,e,t)})):document.addEventListener?i.addEventListener("mousedown",function(t){n.trackExistingLink(i,e,t)}):document.attachEvent&&(o=function(t){n.trackExistingLink(i,e,t)},i.attachEvent("onmousedown",o),i.attachEvent("onmouseup",o))})()},trackOverriddenLink:function(e,t,n){n=n||window.event;var r="data-ls-overridden-link-tracked";if(n.button==2)return!0;if(e[l](r))return!0;e[c](r,1);var i=S.buildKeywordRedirectParams(t,{impression_id:this.impressionId,keyword_sequence_id:this.keywordSequenceId,destination:t.destination_uri_override,existing:!0,override:!0});e.href=this.getMandelbrotUrl()+"redirect_proxy.js?"+this.buildQueryString(i)},trackExistingLink:function(e,t,n){n=n||event;var r="data-ls-existing-link-tracked";if(n.button==2)return!0;if(e[l](r))return!0;e[c](r,1);var i=S.buildKeywordRedirectParams(t,{impression_id:this.impressionId,keyword_sequence_id:this.keywordSequenceId,destination:t.destination_uri_publisher,existing:!0});try{S.postRedirect(i)}catch(s){}},processInjectedKeywords:function(e,t,n,r){this.totalKeywordCount+=r.length,r=this.preprocessKeywords(r),this.findKeywordDomReferences(r),this.injectedKeywordProcessor.process(this,e,t,n,r)},processSequences:function(e){this.processBlacklists(e),e.existing_keywords&&this.assignPublisherAnchorEvents(e,e.existing_keywords),e.keywords&&this.processInjectedKeywords(e.impression_id,e.keyword_sequence_id,e.site,e.keywords)},init:function(){if(this.fired)return;this.fired=!0,this.pingQuantcast(),this.setDemoMode(!1),this.setSiteGuid(g.toLowerCase()),this.setMandelbrotUrl(),this.createIFrame(),this.addDOMExtensions(),this.subscribeToMessages(),this.totalKeywordCount=0,this.fetchSequences()},pingQuantcast:function(){var e=new Image;e.src="http://pixel.quantserve.com/pixel/p-VvcjNjXe1AqjN.gif?r="+Math.random()*1e5},initWhenReady:function(){var e=this;d.elem.addEventListener(window,"load",function(){e.init()})},createIFrame:function(){var e=document[s]("iframe");e[c]("id","mandelbrot_iframe_statefull"),e[c]("name","mandelbrot_iframe_statefull"),e[c]("height","0px"),e[c]("width","0px"),e[c]("style","visibility:hidden;display:none"),document.body[u](e)},addDOMExtensions:function(){window.Node==null&&(window.Node={TEXT_NODE:3})},subscribeToMessages:function(){var e=this;d.elem.addEventListener(window,"message",function(t){e.receiveMessage(t)})},receiveMessage:function(e){var t=e.data.split("&"),n,r,i;for(n=0;n<t.length;n++){r=t[n].split("=",2);if(r[0].toLowerCase()=="xpath"){i=t[n].indexOf("="),this.sendPayload(t[n].substring(i+1));break}}},fetchSequences:function(){var e=this;this.fetchJSONP(this.jsonpUrl(),function(t){e.whenXpathSupportAvailable(function(){E(function(){e.processSequences(t)})})})},whenXpathSupportAvailable:function(e){var t=this,n=function(){t.xpathSupportAvailable=!0,e()};!this.xpathSupportAvailable&&document.evaluate==null?d.script.load("//cdn.linksmart.com/xpath_0.0.1.min.js",n):n()}}}();S.initWhenReady()}();